#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check version consistency
echo "ğŸ” Checking version consistency..."
node scripts/check-version.js || {
  echo "âŒ Version consistency check failed. Please ensure all versions match."
  exit 1
}

# Run ESLint
echo "ğŸ” Running ESLint..."
npx eslint . --ext .js,.jsx,.ts,.tsx || {
  echo "âŒ ESLint found errors. Please fix them before committing."
  exit 1
}

# Run TypeScript compiler check
echo "ğŸ“ Checking TypeScript..."
npx tsc --noEmit || {
  echo "âŒ TypeScript compilation failed. Please fix type errors before committing."
  exit 1
}

echo "âœ… Pre-commit checks passed!"
